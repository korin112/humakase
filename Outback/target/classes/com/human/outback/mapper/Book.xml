<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.human.outback.iBook">
<select id="getCart" resultType="com.human.outback.Cart">
	select cart_code, menu_name, menu_cnt, menu_price, menu_total from cart where userid = #{param1} order by cart_code desc
</select>
<update id="updateCart">
	update cart set menu_cnt = #{param2}, menu_total = menu_price * #{param2} where cart_code = #{param1}
</update>
<delete id="deleteCart">
	delete from cart where cart_code = #{param1}
</delete>
<select id="getBooklist" resultType="com.human.outback.Cart" parameterType="java.util.List">
	select cart_code, menu_name, menu_cnt, menu_price, menu_total from cart
	where userid = #{userid} 
	and cart_code in
	<foreach collection="list" item="item" open="(" close=")" separator=",">
		#{item.cart_code}
	</foreach>
	order by cart_code desc
</select>
<select id="getUserSession" resultType="com.human.outback.Member">
	select name, mobile from member where userid = #{param1}
</select>
<select id="getSpot" resultType="com.human.outback.Spot">
	select spot_code, spot_name, spot_max from spot
</select>
<select id="getVtime" resultType="com.human.outback.Vtime">
	select time_code, time_name from vtime
</select>
</mapper>